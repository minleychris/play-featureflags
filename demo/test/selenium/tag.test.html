#{fixture delete:'all' /}

#{selenium}

        // assert that a message is displayed when no features exist in the db
        open('/admin/features')
        waitForPageToLoad(1000)
        assertElementPresent('noFeaturesFoundTd')

        // Verify that all the menu items are invisible
        open('/tagtest')
        waitForPageToLoad(1000)
        assertElementNotPresent('sampleMenu1')
        assertElementNotPresent('sampleMenu2')
        assertElementNotPresent('sampleMenu3')
        assertElementNotPresent('sampleMenu4')

        // Verify that the features have been created in the db
        open('/admin/features')
        waitForPageToLoad(1000)
        assertElementPresent('sampleMenu1Tr')
        assertElementPresent('sampleMenu2Tr')
        assertElementPresent('sampleMenu3Tr')
        assertElementPresent('sampleMenu4Tr')        

        // Verify that the features are all OFF
        assertText('sampleMenu1StatusTd', 'OFF')
        assertText('sampleMenu2StatusTd', 'OFF')
        assertText('sampleMenu3StatusTd', 'OFF')
        assertText('sampleMenu4StatusTd', 'OFF')

        // switch on feature 1 and 3
        click('sampleMenu1Switcher')
        waitForPageToLoad(1000)
        click('sampleMenu3Switcher')
        waitForPageToLoad(1000)

        // Verify that Features 1 and 3 are ON and that 2 and 4 are still OFF
        assertText('sampleMenu1StatusTd', 'ON')
        assertText('sampleMenu2StatusTd', 'OFF')
        assertText('sampleMenu3StatusTd', 'ON')
        assertText('sampleMenu4StatusTd', 'OFF')

        // Verify that the menu items 1 and 3 are visible, and that item 2 and 4 are invisible
        open('/tagtest')
        waitForPageToLoad(1000)
        assertElementPresent('sampleMenu1')
        assertElementNotPresent('sampleMenu2')
        assertElementPresent('sampleMenu3')
        assertElementNotPresent('sampleMenu4')


#{/selenium}        